
          window.__NEXT_REGISTER_CHUNK('react-blur-image-loader-0f0057a9-eb24-42a4-b037-821bee35935a.js', function() {
            webpackJsonp([8],{

/***/ 718:
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {!function(root,factory){ true?module.exports=factory(__webpack_require__(8)):"function"==typeof define&&define.amd?define("reactBlurImageLoader",["react"],factory):"object"==typeof exports?exports.reactBlurImageLoader=factory(require("react")):root.reactBlurImageLoader=factory(root.react)}(this,function(__WEBPACK_EXTERNAL_MODULE_0__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(module,exports){module.exports=__webpack_require__(8)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_react),_DefaultLoader=__webpack_require__(6),_DefaultLoader2=_interopRequireDefault(_DefaultLoader),_ImageContainer=__webpack_require__(7),_ImageContainer2=_interopRequireDefault(_ImageContainer),DEFAULT_TRANSITION_TIME=400,BlurImageLoader=function(_React$Component){function BlurImageLoader(props){_classCallCheck(this,BlurImageLoader);var _this=_possibleConstructorReturn(this,(BlurImageLoader.__proto__||Object.getPrototypeOf(BlurImageLoader)).call(this));return _this.state={showPreview:!1,showLoader:!0,showImage:!1,transitionTime:props.transitionTime||DEFAULT_TRANSITION_TIME},_this}return _inherits(BlurImageLoader,_React$Component),_createClass(BlurImageLoader,[{key:"resetState",value:function(){this.setState({showPreview:!1,showLoader:!0,showImage:!1})}},{key:"loadImage",value:function(src,callback){var _this2=this;if(src){var image=new Image;image.onload=function(){callback&&callback.call(_this2)},image.src=src}}},{key:"loadOriginalImage",value:function(){var _this3=this;this.loadImage(this.props.src,function(){_this3.setState({showPreview:!1,showLoader:!1,showImage:!0})})}},{key:"loadPreviewImage",value:function(){var _this4=this;this.loadImage(this.props.preview,function(){_this4.setState({showPreview:!_this4.state.showImage,showLoader:!1})})}},{key:"componentWillReceiveProps",value:function(_ref,_ref2){var src=_ref.src;_ref.preview;src!==_ref2.oldSrc&&(this.resetState(),this.loadOriginalImage(),this.loadPreviewImage())}},{key:"componentWillMount",value:function(){this.resetState(),this.loadOriginalImage(),this.loadPreviewImage()}},{key:"renderLoader",value:function(){return React.isValidElement(this.props.loader)?this.props.loader:React.createElement(_DefaultLoader2.default,null)}},{key:"render",value:function(){return React.createElement("div",{className:"bil-image"},this.state.showImage?React.createElement(_ImageContainer2.default,{src:this.props.src,fullCover:this.props.fullCover,maxBlurLevel:this.props.maxBlurLevel,transitionTime:this.state.transitionTime}):null,this.state.showPreview?React.createElement(_ImageContainer2.default,{src:this.props.preview,fullCover:this.props.fullCover,maxBlurLevel:this.props.maxBlurLevel}):null,this.state.showLoader?this.renderLoader():null)}}]),BlurImageLoader}(React.Component);BlurImageLoader.propTypes={src:React.PropTypes.string.isRequired,preview:React.PropTypes.string,fullCover:React.PropTypes.bool,maxBlurLevel:React.PropTypes.number,transitionTime:React.PropTypes.number,loader:React.PropTypes.element},exports.default=BlurImageLoader},function(module,exports,__webpack_require__){var content=__webpack_require__(8);"string"==typeof content&&(content=[[module.i,content,""]]);__webpack_require__(9)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _BlurImageLoader=__webpack_require__(1),_BlurImageLoader2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_BlurImageLoader);__webpack_require__(2),exports.default=_BlurImageLoader2.default},function(module,exports){function cssWithMappingToString(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap){var sourceMapping=toComment(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return"/*# sourceURL="+cssMapping.sourceRoot+source+" */"});return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new Buffer(JSON.stringify(sourceMap)).toString("base64")+" */"}module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=cssWithMappingToString(item,useSourceMap);return item[2]?"@media "+item[2]+"{"+content+"}":content}).join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports){module.exports=function(css){var location="undefined"!=typeof window&&window.location;if(!location)throw new Error("fixUrls requires window.location");if(!css||"string"!=typeof css)return css;var baseUrl=location.protocol+"//"+location.host,currentDir=baseUrl+location.pathname.replace(/\/[^\/]*$/,"/");return css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(fullMatch,origUrl){var unquotedOrigUrl=origUrl.trim().replace(/^"(.*)"$/,function(o,$1){return $1}).replace(/^'(.*)'$/,function(o,$1){return $1});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(unquotedOrigUrl))return fullMatch;var newUrl;return newUrl=0===unquotedOrigUrl.indexOf("//")?unquotedOrigUrl:0===unquotedOrigUrl.indexOf("/")?baseUrl+unquotedOrigUrl:currentDir+unquotedOrigUrl.replace(/^\.\//,""),"url("+JSON.stringify(newUrl)+")"})}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_react),DefaultLoader=function(_React$Component){function DefaultLoader(){return _classCallCheck(this,DefaultLoader),_possibleConstructorReturn(this,(DefaultLoader.__proto__||Object.getPrototypeOf(DefaultLoader)).apply(this,arguments))}return _inherits(DefaultLoader,_React$Component),_createClass(DefaultLoader,[{key:"render",value:function(){return React.createElement("div",{className:"bil-default-loader"})}}]),DefaultLoader}(React.Component);exports.default=DefaultLoader},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_react),DEFAULT_BLUR_LEVEL=10,ImageContainer=function(_React$Component){function ImageContainer(props){_classCallCheck(this,ImageContainer);var _this=_possibleConstructorReturn(this,(ImageContainer.__proto__||Object.getPrototypeOf(ImageContainer)).call(this));return _this.state={blurLevel:props.maxBlurLevel||DEFAULT_BLUR_LEVEL,blurImageOpacity:1},_this}return _inherits(ImageContainer,_React$Component),_createClass(ImageContainer,[{key:"componentDidMount",value:function(){var _this2=this;if(this.props.transitionTime){var remainTime=this.props.transitionTime;setTimeout(function(){var timer=setInterval(function(){if(remainTime<=0)window.clearInterval(timer);else{var percent=Math.max(0,(remainTime-10)/remainTime),currentBlurLevel=_this2.state.blurImageOpacity*percent;remainTime-=10,_this2.setState({blurImageOpacity:currentBlurLevel})}},10)},300)}}},{key:"render",value:function(){return React.createElement("svg",{width:"100%",height:"100%",className:"bil-svg-container",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("filter",{id:"bilBlurFilter"},React.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:this.state.blurLevel})),React.createElement("image",{xlinkHref:this.props.src,x:"0",y:"0",width:"100%",height:"100%",filter:"url(#bilBlurFilter)",style:{opacity:this.state.blurImageOpacity},preserveAspectRatio:this.props.fullCover?"xMidYMid slice":null}),this.props.transitionTime?React.createElement("image",{xlinkHref:this.props.src,x:"0",y:"0",width:"100%",height:"100%",style:{opacity:1-this.state.blurImageOpacity},preserveAspectRatio:this.props.fullCover?"xMidYMid slice":null}):null)}}]),ImageContainer}(React.Component);ImageContainer.propTypes={src:React.PropTypes.string.isRequired,preview:React.PropTypes.string,fullCover:React.PropTypes.bool,maxBlurLevel:React.PropTypes.number,transitionTime:React.PropTypes.number},exports.default=ImageContainer},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)(void 0),exports.push([module.i,".bil-image{\r\n    display: -ms-flexbox;\r\n\tdisplay: -webkit-flex;\r\n\tdisplay: flex;\r\n\r\n\t-ms-flex-align: center;\r\n\t-webkit-align-items: center;\r\n\t-webkit-box-align: center;\r\n\r\n\talign-items: center;\r\n    justify-content: center;\r\n\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n.bil-default-loader{\r\n    border: 2px solid #f3f3f3;\r\n    border-top: 2px solid #555;\r\n    border-radius: 50%;\r\n    width: 30px;\r\n    height: 30px;\r\n    animation: bil-default-spin 1s linear infinite;\r\n}\r\n\r\n@keyframes bil-default-spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n}",""])},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var styleTarget=getElement(options.insertInto);if(!styleTarget)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?styleTarget.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):styleTarget.appendChild(styleElement):styleTarget.insertBefore(styleElement,styleTarget.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");styleTarget.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return options.attrs.type="text/css",attachTagAttrs(styleElement,options.attrs),insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return options.attrs.type="text/css",options.attrs.rel="stylesheet",attachTagAttrs(linkElement,options.attrs),insertStyleElement(options,linkElement),linkElement}function attachTagAttrs(element,attrs){Object.keys(attrs).forEach(function(key){element.setAttribute(key,attrs[key])})}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement,options),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,options,obj){var css=obj.css,sourceMap=obj.sourceMap,autoFixUrls=void 0===options.convertToAbsoluteUrls&&sourceMap;(options.convertToAbsoluteUrls||autoFixUrls)&&(css=fixUrls(css)),sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},isOldIE=function(fn){var memo;return function(){return void 0===memo&&(memo=fn.apply(this,arguments)),memo}}(function(){return window&&document&&document.all&&!window.atob}),getElement=function(fn){var memo={};return function(selector){return void 0===memo[selector]&&(memo[selector]=fn.call(this,selector)),memo[selector]}}(function(styleTarget){return document.querySelector(styleTarget)}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[],fixUrls=__webpack_require__(5);module.exports=function(list,options){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{},options.attrs="object"==typeof options.attrs?options.attrs:{},void 0===options.singleton&&(options.singleton=isOldIE()),void 0===options.insertInto&&(options.insertInto="head"),void 0===options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){addStylesToDom(listToStyles(newList),options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()}])});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(564).Buffer))

/***/ })

});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL3JlYWN0LWJsdXItaW1hZ2UtbG9hZGVyLTBmMDA1N2E5LWViMjQtNDJhNC1iMDM3LTgyMWJlZTM1OTM1YS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ibHVyLWltYWdlLWxvYWRlci9idWlsZC9yZWFjdEJsdXJJbWFnZUxvYWRlci5qcz9mZTZlZGVlIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihyb290LGZhY3Rvcnkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwicmVhY3RCbHVySW1hZ2VMb2FkZXJcIixbXCJyZWFjdFwiXSxmYWN0b3J5KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnJlYWN0Qmx1ckltYWdlTG9hZGVyPWZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTpyb290LnJlYWN0Qmx1ckltYWdlTG9hZGVyPWZhY3Rvcnkocm9vdC5yZWFjdCl9KHRoaXMsZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18pe3JldHVybiBmdW5jdGlvbihtb2R1bGVzKXtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXZhciBpbnN0YWxsZWRNb2R1bGVzPXt9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX0sX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbihtb2R1bGUpe3ZhciBnZXR0ZXI9bW9kdWxlJiZtb2R1bGUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBtb2R1bGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlcixcImFcIixnZXR0ZXIpLGdldHRlcn0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QscHJvcGVydHkpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0zKX0oW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1yZXF1aXJlKFwicmVhY3RcIil9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX3JlYWN0PV9fd2VicGFja19yZXF1aXJlX18oMCksUmVhY3Q9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX3JlYWN0KSxfRGVmYXVsdExvYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9EZWZhdWx0TG9hZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EZWZhdWx0TG9hZGVyKSxfSW1hZ2VDb250YWluZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxfSW1hZ2VDb250YWluZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ltYWdlQ29udGFpbmVyKSxERUZBVUxUX1RSQU5TSVRJT05fVElNRT00MDAsQmx1ckltYWdlTG9hZGVyPWZ1bmN0aW9uKF9SZWFjdCRDb21wb25lbnQpe2Z1bmN0aW9uIEJsdXJJbWFnZUxvYWRlcihwcm9wcyl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmx1ckltYWdlTG9hZGVyKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmx1ckltYWdlTG9hZGVyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJsdXJJbWFnZUxvYWRlcikpLmNhbGwodGhpcykpO3JldHVybiBfdGhpcy5zdGF0ZT17c2hvd1ByZXZpZXc6ITEsc2hvd0xvYWRlcjohMCxzaG93SW1hZ2U6ITEsdHJhbnNpdGlvblRpbWU6cHJvcHMudHJhbnNpdGlvblRpbWV8fERFRkFVTFRfVFJBTlNJVElPTl9USU1FfSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKEJsdXJJbWFnZUxvYWRlcixfUmVhY3QkQ29tcG9uZW50KSxfY3JlYXRlQ2xhc3MoQmx1ckltYWdlTG9hZGVyLFt7a2V5OlwicmVzZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZSh7c2hvd1ByZXZpZXc6ITEsc2hvd0xvYWRlcjohMCxzaG93SW1hZ2U6ITF9KX19LHtrZXk6XCJsb2FkSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbihzcmMsY2FsbGJhY2spe3ZhciBfdGhpczI9dGhpcztpZihzcmMpe3ZhciBpbWFnZT1uZXcgSW1hZ2U7aW1hZ2Uub25sb2FkPWZ1bmN0aW9uKCl7Y2FsbGJhY2smJmNhbGxiYWNrLmNhbGwoX3RoaXMyKX0saW1hZ2Uuc3JjPXNyY319fSx7a2V5OlwibG9hZE9yaWdpbmFsSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBfdGhpczM9dGhpczt0aGlzLmxvYWRJbWFnZSh0aGlzLnByb3BzLnNyYyxmdW5jdGlvbigpe190aGlzMy5zZXRTdGF0ZSh7c2hvd1ByZXZpZXc6ITEsc2hvd0xvYWRlcjohMSxzaG93SW1hZ2U6ITB9KX0pfX0se2tleTpcImxvYWRQcmV2aWV3SW1hZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBfdGhpczQ9dGhpczt0aGlzLmxvYWRJbWFnZSh0aGlzLnByb3BzLnByZXZpZXcsZnVuY3Rpb24oKXtfdGhpczQuc2V0U3RhdGUoe3Nob3dQcmV2aWV3OiFfdGhpczQuc3RhdGUuc2hvd0ltYWdlLHNob3dMb2FkZXI6ITF9KX0pfX0se2tleTpcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIix2YWx1ZTpmdW5jdGlvbihfcmVmLF9yZWYyKXt2YXIgc3JjPV9yZWYuc3JjO19yZWYucHJldmlldztzcmMhPT1fcmVmMi5vbGRTcmMmJih0aGlzLnJlc2V0U3RhdGUoKSx0aGlzLmxvYWRPcmlnaW5hbEltYWdlKCksdGhpcy5sb2FkUHJldmlld0ltYWdlKCkpfX0se2tleTpcImNvbXBvbmVudFdpbGxNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZXNldFN0YXRlKCksdGhpcy5sb2FkT3JpZ2luYWxJbWFnZSgpLHRoaXMubG9hZFByZXZpZXdJbWFnZSgpfX0se2tleTpcInJlbmRlckxvYWRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFJlYWN0LmlzVmFsaWRFbGVtZW50KHRoaXMucHJvcHMubG9hZGVyKT90aGlzLnByb3BzLmxvYWRlcjpSZWFjdC5jcmVhdGVFbGVtZW50KF9EZWZhdWx0TG9hZGVyMi5kZWZhdWx0LG51bGwpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOlwiYmlsLWltYWdlXCJ9LHRoaXMuc3RhdGUuc2hvd0ltYWdlP1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0ltYWdlQ29udGFpbmVyMi5kZWZhdWx0LHtzcmM6dGhpcy5wcm9wcy5zcmMsZnVsbENvdmVyOnRoaXMucHJvcHMuZnVsbENvdmVyLG1heEJsdXJMZXZlbDp0aGlzLnByb3BzLm1heEJsdXJMZXZlbCx0cmFuc2l0aW9uVGltZTp0aGlzLnN0YXRlLnRyYW5zaXRpb25UaW1lfSk6bnVsbCx0aGlzLnN0YXRlLnNob3dQcmV2aWV3P1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0ltYWdlQ29udGFpbmVyMi5kZWZhdWx0LHtzcmM6dGhpcy5wcm9wcy5wcmV2aWV3LGZ1bGxDb3Zlcjp0aGlzLnByb3BzLmZ1bGxDb3ZlcixtYXhCbHVyTGV2ZWw6dGhpcy5wcm9wcy5tYXhCbHVyTGV2ZWx9KTpudWxsLHRoaXMuc3RhdGUuc2hvd0xvYWRlcj90aGlzLnJlbmRlckxvYWRlcigpOm51bGwpfX1dKSxCbHVySW1hZ2VMb2FkZXJ9KFJlYWN0LkNvbXBvbmVudCk7Qmx1ckltYWdlTG9hZGVyLnByb3BUeXBlcz17c3JjOlJlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxwcmV2aWV3OlJlYWN0LlByb3BUeXBlcy5zdHJpbmcsZnVsbENvdmVyOlJlYWN0LlByb3BUeXBlcy5ib29sLG1heEJsdXJMZXZlbDpSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLHRyYW5zaXRpb25UaW1lOlJlYWN0LlByb3BUeXBlcy5udW1iZXIsbG9hZGVyOlJlYWN0LlByb3BUeXBlcy5lbGVtZW50fSxleHBvcnRzLmRlZmF1bHQ9Qmx1ckltYWdlTG9hZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgY29udGVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1wic3RyaW5nXCI9PXR5cGVvZiBjb250ZW50JiYoY29udGVudD1bW21vZHVsZS5pLGNvbnRlbnQsXCJcIl1dKTtfX3dlYnBhY2tfcmVxdWlyZV9fKDkpKGNvbnRlbnQse30pO2NvbnRlbnQubG9jYWxzJiYobW9kdWxlLmV4cG9ydHM9Y29udGVudC5sb2NhbHMpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0JsdXJJbWFnZUxvYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9CbHVySW1hZ2VMb2FkZXIyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9CbHVySW1hZ2VMb2FkZXIpO19fd2VicGFja19yZXF1aXJlX18oMiksZXhwb3J0cy5kZWZhdWx0PV9CbHVySW1hZ2VMb2FkZXIyLmRlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sdXNlU291cmNlTWFwKXt2YXIgY29udGVudD1pdGVtWzFdfHxcIlwiLGNzc01hcHBpbmc9aXRlbVszXTtpZighY3NzTWFwcGluZylyZXR1cm4gY29udGVudDtpZih1c2VTb3VyY2VNYXApe3ZhciBzb3VyY2VNYXBwaW5nPXRvQ29tbWVudChjc3NNYXBwaW5nKSxzb3VyY2VVUkxzPWNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24oc291cmNlKXtyZXR1cm5cIi8qIyBzb3VyY2VVUkw9XCIrY3NzTWFwcGluZy5zb3VyY2VSb290K3NvdXJjZStcIiAqL1wifSk7cmV0dXJuW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpfXJldHVybltjb250ZW50XS5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApe3JldHVyblwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiK25ldyBCdWZmZXIoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkudG9TdHJpbmcoXCJiYXNlNjRcIikrXCIgKi9cIn1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih1c2VTb3VyY2VNYXApe3ZhciBsaXN0PVtdO3JldHVybiBsaXN0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGl0ZW0pe3ZhciBjb250ZW50PWNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSx1c2VTb3VyY2VNYXApO3JldHVybiBpdGVtWzJdP1wiQG1lZGlhIFwiK2l0ZW1bMl0rXCJ7XCIrY29udGVudCtcIn1cIjpjb250ZW50fSkuam9pbihcIlwiKX0sbGlzdC5pPWZ1bmN0aW9uKG1vZHVsZXMsbWVkaWFRdWVyeSl7XCJzdHJpbmdcIj09dHlwZW9mIG1vZHVsZXMmJihtb2R1bGVzPVtbbnVsbCxtb2R1bGVzLFwiXCJdXSk7Zm9yKHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIGlkPXRoaXNbaV1bMF07XCJudW1iZXJcIj09dHlwZW9mIGlkJiYoYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF09ITApfWZvcihpPTA7aTxtb2R1bGVzLmxlbmd0aDtpKyspe3ZhciBpdGVtPW1vZHVsZXNbaV07XCJudW1iZXJcIj09dHlwZW9mIGl0ZW1bMF0mJmFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV18fChtZWRpYVF1ZXJ5JiYhaXRlbVsyXT9pdGVtWzJdPW1lZGlhUXVlcnk6bWVkaWFRdWVyeSYmKGl0ZW1bMl09XCIoXCIraXRlbVsyXStcIikgYW5kIChcIittZWRpYVF1ZXJ5K1wiKVwiKSxsaXN0LnB1c2goaXRlbSkpfX0sbGlzdH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihjc3Mpe3ZhciBsb2NhdGlvbj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIWxvY2F0aW9uKXRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO2lmKCFjc3N8fFwic3RyaW5nXCIhPXR5cGVvZiBjc3MpcmV0dXJuIGNzczt2YXIgYmFzZVVybD1sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrbG9jYXRpb24uaG9zdCxjdXJyZW50RGlyPWJhc2VVcmwrbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLFwiL1wiKTtyZXR1cm4gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLGZ1bmN0aW9uKGZ1bGxNYXRjaCxvcmlnVXJsKXt2YXIgdW5xdW90ZWRPcmlnVXJsPW9yaWdVcmwudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLGZ1bmN0aW9uKG8sJDEpe3JldHVybiAkMX0pLnJlcGxhY2UoL14nKC4qKSckLyxmdW5jdGlvbihvLCQxKXtyZXR1cm4gJDF9KTtpZigvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcLykvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpcmV0dXJuIGZ1bGxNYXRjaDt2YXIgbmV3VXJsO3JldHVybiBuZXdVcmw9MD09PXVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIik/dW5xdW90ZWRPcmlnVXJsOjA9PT11bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIik/YmFzZVVybCt1bnF1b3RlZE9yaWdVcmw6Y3VycmVudERpcit1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sXCJcIiksXCJ1cmwoXCIrSlNPTi5zdHJpbmdpZnkobmV3VXJsKStcIilcIn0pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9yZWFjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLFJlYWN0PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9yZWFjdCksRGVmYXVsdExvYWRlcj1mdW5jdGlvbihfUmVhY3QkQ29tcG9uZW50KXtmdW5jdGlvbiBEZWZhdWx0TG9hZGVyKCl7cmV0dXJuIF9jbGFzc0NhbGxDaGVjayh0aGlzLERlZmF1bHRMb2FkZXIpLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKERlZmF1bHRMb2FkZXIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGVmYXVsdExvYWRlcikpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIF9pbmhlcml0cyhEZWZhdWx0TG9hZGVyLF9SZWFjdCRDb21wb25lbnQpLF9jcmVhdGVDbGFzcyhEZWZhdWx0TG9hZGVyLFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6XCJiaWwtZGVmYXVsdC1sb2FkZXJcIn0pfX1dKSxEZWZhdWx0TG9hZGVyfShSZWFjdC5Db21wb25lbnQpO2V4cG9ydHMuZGVmYXVsdD1EZWZhdWx0TG9hZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX3JlYWN0PV9fd2VicGFja19yZXF1aXJlX18oMCksUmVhY3Q9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX3JlYWN0KSxERUZBVUxUX0JMVVJfTEVWRUw9MTAsSW1hZ2VDb250YWluZXI9ZnVuY3Rpb24oX1JlYWN0JENvbXBvbmVudCl7ZnVuY3Rpb24gSW1hZ2VDb250YWluZXIocHJvcHMpe19jbGFzc0NhbGxDaGVjayh0aGlzLEltYWdlQ29udGFpbmVyKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoSW1hZ2VDb250YWluZXIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW1hZ2VDb250YWluZXIpKS5jYWxsKHRoaXMpKTtyZXR1cm4gX3RoaXMuc3RhdGU9e2JsdXJMZXZlbDpwcm9wcy5tYXhCbHVyTGV2ZWx8fERFRkFVTFRfQkxVUl9MRVZFTCxibHVySW1hZ2VPcGFjaXR5OjF9LF90aGlzfXJldHVybiBfaW5oZXJpdHMoSW1hZ2VDb250YWluZXIsX1JlYWN0JENvbXBvbmVudCksX2NyZWF0ZUNsYXNzKEltYWdlQ29udGFpbmVyLFt7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBfdGhpczI9dGhpcztpZih0aGlzLnByb3BzLnRyYW5zaXRpb25UaW1lKXt2YXIgcmVtYWluVGltZT10aGlzLnByb3BzLnRyYW5zaXRpb25UaW1lO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdGltZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihyZW1haW5UaW1lPD0wKXdpbmRvdy5jbGVhckludGVydmFsKHRpbWVyKTtlbHNle3ZhciBwZXJjZW50PU1hdGgubWF4KDAsKHJlbWFpblRpbWUtMTApL3JlbWFpblRpbWUpLGN1cnJlbnRCbHVyTGV2ZWw9X3RoaXMyLnN0YXRlLmJsdXJJbWFnZU9wYWNpdHkqcGVyY2VudDtyZW1haW5UaW1lLT0xMCxfdGhpczIuc2V0U3RhdGUoe2JsdXJJbWFnZU9wYWNpdHk6Y3VycmVudEJsdXJMZXZlbH0pfX0sMTApfSwzMDApfX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIse3dpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixjbGFzc05hbWU6XCJiaWwtc3ZnLWNvbnRhaW5lclwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix4bWxuc1hsaW5rOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wifSxSZWFjdC5jcmVhdGVFbGVtZW50KFwiZmlsdGVyXCIse2lkOlwiYmlsQmx1ckZpbHRlclwifSxSZWFjdC5jcmVhdGVFbGVtZW50KFwiZmVHYXVzc2lhbkJsdXJcIix7aW46XCJTb3VyY2VHcmFwaGljXCIsc3RkRGV2aWF0aW9uOnRoaXMuc3RhdGUuYmx1ckxldmVsfSkpLFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWFnZVwiLHt4bGlua0hyZWY6dGhpcy5wcm9wcy5zcmMseDpcIjBcIix5OlwiMFwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixmaWx0ZXI6XCJ1cmwoI2JpbEJsdXJGaWx0ZXIpXCIsc3R5bGU6e29wYWNpdHk6dGhpcy5zdGF0ZS5ibHVySW1hZ2VPcGFjaXR5fSxwcmVzZXJ2ZUFzcGVjdFJhdGlvOnRoaXMucHJvcHMuZnVsbENvdmVyP1wieE1pZFlNaWQgc2xpY2VcIjpudWxsfSksdGhpcy5wcm9wcy50cmFuc2l0aW9uVGltZT9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1hZ2VcIix7eGxpbmtIcmVmOnRoaXMucHJvcHMuc3JjLHg6XCIwXCIseTpcIjBcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsc3R5bGU6e29wYWNpdHk6MS10aGlzLnN0YXRlLmJsdXJJbWFnZU9wYWNpdHl9LHByZXNlcnZlQXNwZWN0UmF0aW86dGhpcy5wcm9wcy5mdWxsQ292ZXI/XCJ4TWlkWU1pZCBzbGljZVwiOm51bGx9KTpudWxsKX19XSksSW1hZ2VDb250YWluZXJ9KFJlYWN0LkNvbXBvbmVudCk7SW1hZ2VDb250YWluZXIucHJvcFR5cGVzPXtzcmM6UmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLHByZXZpZXc6UmVhY3QuUHJvcFR5cGVzLnN0cmluZyxmdWxsQ292ZXI6UmVhY3QuUHJvcFR5cGVzLmJvb2wsbWF4Qmx1ckxldmVsOlJlYWN0LlByb3BUeXBlcy5udW1iZXIsdHJhbnNpdGlvblRpbWU6UmVhY3QuUHJvcFR5cGVzLm51bWJlcn0sZXhwb3J0cy5kZWZhdWx0PUltYWdlQ29udGFpbmVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtleHBvcnRzPW1vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNCkodm9pZCAwKSxleHBvcnRzLnB1c2goW21vZHVsZS5pLFwiLmJpbC1pbWFnZXtcXHJcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxyXFxuXFx0ZGlzcGxheTogLXdlYmtpdC1mbGV4O1xcclxcblxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFxyXFxuXFx0LW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXHJcXG5cXHQtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0LXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXHJcXG5cXHJcXG5cXHRhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG5cXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLmJpbC1kZWZhdWx0LWxvYWRlcntcXHJcXG4gICAgYm9yZGVyOiAycHggc29saWQgI2YzZjNmMztcXHJcXG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICM1NTU7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXHJcXG4gICAgd2lkdGg6IDMwcHg7XFxyXFxuICAgIGhlaWdodDogMzBweDtcXHJcXG4gICAgYW5pbWF0aW9uOiBiaWwtZGVmYXVsdC1zcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBiaWwtZGVmYXVsdC1zcGluIHtcXHJcXG4gICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxcclxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxcclxcbn1cIixcIlwiXSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe2Z1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcyxvcHRpb25zKXtmb3IodmFyIGk9MDtpPHN0eWxlcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1zdHlsZXNbaV0sZG9tU3R5bGU9c3R5bGVzSW5Eb21baXRlbS5pZF07aWYoZG9tU3R5bGUpe2RvbVN0eWxlLnJlZnMrKztmb3IodmFyIGo9MDtqPGRvbVN0eWxlLnBhcnRzLmxlbmd0aDtqKyspZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7Zm9yKDtqPGl0ZW0ucGFydHMubGVuZ3RoO2orKylkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sb3B0aW9ucykpfWVsc2V7Zm9yKHZhciBwYXJ0cz1bXSxqPTA7ajxpdGVtLnBhcnRzLmxlbmd0aDtqKyspcGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLG9wdGlvbnMpKTtzdHlsZXNJbkRvbVtpdGVtLmlkXT17aWQ6aXRlbS5pZCxyZWZzOjEscGFydHM6cGFydHN9fX19ZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3Qpe2Zvcih2YXIgc3R5bGVzPVtdLG5ld1N0eWxlcz17fSxpPTA7aTxsaXN0Lmxlbmd0aDtpKyspe3ZhciBpdGVtPWxpc3RbaV0saWQ9aXRlbVswXSxjc3M9aXRlbVsxXSxtZWRpYT1pdGVtWzJdLHNvdXJjZU1hcD1pdGVtWzNdLHBhcnQ9e2Nzczpjc3MsbWVkaWE6bWVkaWEsc291cmNlTWFwOnNvdXJjZU1hcH07bmV3U3R5bGVzW2lkXT9uZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk6c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXT17aWQ6aWQscGFydHM6W3BhcnRdfSl9cmV0dXJuIHN0eWxlc31mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyxzdHlsZUVsZW1lbnQpe3ZhciBzdHlsZVRhcmdldD1nZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byk7aWYoIXN0eWxlVGFyZ2V0KXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO3ZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcD1zdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGgtMV07aWYoXCJ0b3BcIj09PW9wdGlvbnMuaW5zZXJ0QXQpbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3A/bGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmc/c3R5bGVUYXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCxsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk6c3R5bGVUYXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTpzdHlsZVRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LHN0eWxlVGFyZ2V0LmZpcnN0Q2hpbGQpLHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtlbHNle2lmKFwiYm90dG9tXCIhPT1vcHRpb25zLmluc2VydEF0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtzdHlsZVRhcmdldC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpfX1mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KXtzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO3ZhciBpZHg9c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO2lkeD49MCYmc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwxKX1mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyl7dmFyIHN0eWxlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIG9wdGlvbnMuYXR0cnMudHlwZT1cInRleHQvY3NzXCIsYXR0YWNoVGFnQXR0cnMoc3R5bGVFbGVtZW50LG9wdGlvbnMuYXR0cnMpLGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLHN0eWxlRWxlbWVudCksc3R5bGVFbGVtZW50fWZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpe3ZhciBsaW5rRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gb3B0aW9ucy5hdHRycy50eXBlPVwidGV4dC9jc3NcIixvcHRpb25zLmF0dHJzLnJlbD1cInN0eWxlc2hlZXRcIixhdHRhY2hUYWdBdHRycyhsaW5rRWxlbWVudCxvcHRpb25zLmF0dHJzKSxpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyxsaW5rRWxlbWVudCksbGlua0VsZW1lbnR9ZnVuY3Rpb24gYXR0YWNoVGFnQXR0cnMoZWxlbWVudCxhdHRycyl7T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXtlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksYXR0cnNba2V5XSl9KX1mdW5jdGlvbiBhZGRTdHlsZShvYmosb3B0aW9ucyl7dmFyIHN0eWxlRWxlbWVudCx1cGRhdGUscmVtb3ZlO2lmKG9wdGlvbnMuc2luZ2xldG9uKXt2YXIgc3R5bGVJbmRleD1zaW5nbGV0b25Db3VudGVyKys7c3R5bGVFbGVtZW50PXNpbmdsZXRvbkVsZW1lbnR8fChzaW5nbGV0b25FbGVtZW50PWNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSksdXBkYXRlPWFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLHN0eWxlRWxlbWVudCxzdHlsZUluZGV4LCExKSxyZW1vdmU9YXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsc3R5bGVFbGVtZW50LHN0eWxlSW5kZXgsITApfWVsc2Ugb2JqLnNvdXJjZU1hcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBCbG9iJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hPyhzdHlsZUVsZW1lbnQ9Y3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyksdXBkYXRlPXVwZGF0ZUxpbmsuYmluZChudWxsLHN0eWxlRWxlbWVudCxvcHRpb25zKSxyZW1vdmU9ZnVuY3Rpb24oKXtyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSxzdHlsZUVsZW1lbnQuaHJlZiYmVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZil9KTooc3R5bGVFbGVtZW50PWNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSx1cGRhdGU9YXBwbHlUb1RhZy5iaW5kKG51bGwsc3R5bGVFbGVtZW50KSxyZW1vdmU9ZnVuY3Rpb24oKXtyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KX0pO3JldHVybiB1cGRhdGUob2JqKSxmdW5jdGlvbihuZXdPYmope2lmKG5ld09iail7aWYobmV3T2JqLmNzcz09PW9iai5jc3MmJm5ld09iai5tZWRpYT09PW9iai5tZWRpYSYmbmV3T2JqLnNvdXJjZU1hcD09PW9iai5zb3VyY2VNYXApcmV0dXJuO3VwZGF0ZShvYmo9bmV3T2JqKX1lbHNlIHJlbW92ZSgpfX1mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCxpbmRleCxyZW1vdmUsb2JqKXt2YXIgY3NzPXJlbW92ZT9cIlwiOm9iai5jc3M7aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dD1yZXBsYWNlVGV4dChpbmRleCxjc3MpO2Vsc2V7dmFyIGNzc05vZGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSxjaGlsZE5vZGVzPXN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO2NoaWxkTm9kZXNbaW5kZXhdJiZzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pLGNoaWxkTm9kZXMubGVuZ3RoP3N0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSxjaGlsZE5vZGVzW2luZGV4XSk6c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpfX1mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCxvYmope3ZhciBjc3M9b2JqLmNzcyxtZWRpYT1vYmoubWVkaWE7aWYobWVkaWEmJnN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLG1lZGlhKSxzdHlsZUVsZW1lbnQuc3R5bGVTaGVldClzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0PWNzcztlbHNle2Zvcig7c3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQ7KXN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpfX1mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LG9wdGlvbnMsb2JqKXt2YXIgY3NzPW9iai5jc3Msc291cmNlTWFwPW9iai5zb3VyY2VNYXAsYXV0b0ZpeFVybHM9dm9pZCAwPT09b3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMmJnNvdXJjZU1hcDsob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fGF1dG9GaXhVcmxzKSYmKGNzcz1maXhVcmxzKGNzcykpLHNvdXJjZU1hcCYmKGNzcys9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkrXCIgKi9cIik7dmFyIGJsb2I9bmV3IEJsb2IoW2Nzc10se3R5cGU6XCJ0ZXh0L2Nzc1wifSksb2xkU3JjPWxpbmtFbGVtZW50LmhyZWY7bGlua0VsZW1lbnQuaHJlZj1VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpLG9sZFNyYyYmVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpfXZhciBzdHlsZXNJbkRvbT17fSxpc09sZElFPWZ1bmN0aW9uKGZuKXt2YXIgbWVtbztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09bWVtbyYmKG1lbW89Zm4uYXBwbHkodGhpcyxhcmd1bWVudHMpKSxtZW1vfX0oZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2J9KSxnZXRFbGVtZW50PWZ1bmN0aW9uKGZuKXt2YXIgbWVtbz17fTtyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybiB2b2lkIDA9PT1tZW1vW3NlbGVjdG9yXSYmKG1lbW9bc2VsZWN0b3JdPWZuLmNhbGwodGhpcyxzZWxlY3RvcikpLG1lbW9bc2VsZWN0b3JdfX0oZnVuY3Rpb24oc3R5bGVUYXJnZXQpe3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0eWxlVGFyZ2V0KX0pLHNpbmdsZXRvbkVsZW1lbnQ9bnVsbCxzaW5nbGV0b25Db3VudGVyPTAsc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3A9W10sZml4VXJscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGxpc3Qsb3B0aW9ucyl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERFQlVHJiZERUJVRyYmXCJvYmplY3RcIiE9dHlwZW9mIGRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtvcHRpb25zPW9wdGlvbnN8fHt9LG9wdGlvbnMuYXR0cnM9XCJvYmplY3RcIj09dHlwZW9mIG9wdGlvbnMuYXR0cnM/b3B0aW9ucy5hdHRyczp7fSx2b2lkIDA9PT1vcHRpb25zLnNpbmdsZXRvbiYmKG9wdGlvbnMuc2luZ2xldG9uPWlzT2xkSUUoKSksdm9pZCAwPT09b3B0aW9ucy5pbnNlcnRJbnRvJiYob3B0aW9ucy5pbnNlcnRJbnRvPVwiaGVhZFwiKSx2b2lkIDA9PT1vcHRpb25zLmluc2VydEF0JiYob3B0aW9ucy5pbnNlcnRBdD1cImJvdHRvbVwiKTt2YXIgc3R5bGVzPWxpc3RUb1N0eWxlcyhsaXN0KTtyZXR1cm4gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLG9wdGlvbnMpLGZ1bmN0aW9uKG5ld0xpc3Qpe2Zvcih2YXIgbWF5UmVtb3ZlPVtdLGk9MDtpPHN0eWxlcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1zdHlsZXNbaV0sZG9tU3R5bGU9c3R5bGVzSW5Eb21baXRlbS5pZF07ZG9tU3R5bGUucmVmcy0tLG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKX1pZihuZXdMaXN0KXthZGRTdHlsZXNUb0RvbShsaXN0VG9TdHlsZXMobmV3TGlzdCksb3B0aW9ucyl9Zm9yKHZhciBpPTA7aTxtYXlSZW1vdmUubGVuZ3RoO2krKyl7dmFyIGRvbVN0eWxlPW1heVJlbW92ZVtpXTtpZigwPT09ZG9tU3R5bGUucmVmcyl7Zm9yKHZhciBqPTA7ajxkb21TdHlsZS5wYXJ0cy5sZW5ndGg7aisrKWRvbVN0eWxlLnBhcnRzW2pdKCk7ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXX19fX07dmFyIHJlcGxhY2VUZXh0PWZ1bmN0aW9uKCl7dmFyIHRleHRTdG9yZT1bXTtyZXR1cm4gZnVuY3Rpb24oaW5kZXgscmVwbGFjZW1lbnQpe3JldHVybiB0ZXh0U3RvcmVbaW5kZXhdPXJlcGxhY2VtZW50LHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX19KCl9XSl9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1ibHVyLWltYWdlLWxvYWRlci9idWlsZC9yZWFjdEJsdXJJbWFnZUxvYWRlci5qc1xuLy8gbW9kdWxlIGlkID0gNzE4XG4vLyBtb2R1bGUgY2h1bmtzID0gOCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==
          })
        